{% extends 'layout.html' %}
{% block body %}
<h3 class="header smaller">
    {{plan.project_name}}
    <small>
        <i class="icon-double-angle-right"></i>
        {{plan.project_code}} -- {{plan.project_leader}}
    </small>
</h3>
<button class="btn btn-sm btn-primary no-border" onclick="window.location.reload()">
    <i class="icon-refresh"></i>
    Refresh
</button>
{% for step in steps %}
<div class="row">
    <h4 class="header smaller">Step {{ step.sequence }}</h4>
</div>
<div class="row">
    <div class="col-xs-6">
        <h5>{{ step.module_name }}</h5>
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Id</th>
                    <th>IP</th>
                    <th>State</th>
                    <th>Service</th>
                </tr>
            </thead>
            <tbody>
                {% for instance in step.instances %}
                <tr>
                    <td>{{ instance.name }}</td>
                    <td>{{ instance.instance_id }}</td>
                    <td>{{ instance.private_ip_address }}</td>
                    <td>{{ instance.running_state }}</td>
                    <td>{{ instance.service_status }}</td>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-xs-6">
        <h5>{{ step.prev_module_name }}</h5>
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Id</th>
                    <th>State</th>
                    <th>Service</th>
                </tr>
            </thead>
            <tbody>
                {% for instance in step.prev_instances %}
                <tr>
                    <td>{{ instance.name }}</td>
                    <td>{{ instance.instance_id }}</td>
                    <td>{{ instance.running_state }}</td>
                    <td>{{ instance.service_status }}</td>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endfor %}
{% endblock %}
